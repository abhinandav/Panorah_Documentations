"use strict";(self.webpackChunkpanorah_documentation=self.webpackChunkpanorah_documentation||[]).push([[395],{5761:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>l,toc:()=>a});var r=i(4848),s=i(8453);const t={title:"Execute Function",sidebar_position:8},c="Execute Function",l={id:"tutorial/exeute_function",title:"Execute Function",description:"This section explains the Remote Procedure Call (RPC) mechanism implemented by the Execute Function feature in the Panorah Framework.",source:"@site/docs/tutorial/exeute_function.md",sourceDirName:"tutorial",slug:"/tutorial/exeute_function",permalink:"/docs/tutorial/exeute_function",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/tutorial/exeute_function.md",tags:[],version:"current",sidebarPosition:8,frontMatter:{title:"Execute Function",sidebar_position:8},sidebar:"tutorialSidebar",previous:{title:"Upload Files",permalink:"/docs/tutorial/file_upload"},next:{title:"Architecture",permalink:"/docs/category/architecture"}},o={},a=[{value:"What is RPC?",id:"what-is-rpc",level:2},{value:"Key Characteristics of RPC",id:"key-characteristics-of-rpc",level:3},{value:"How the Panorah Framework Uses RPC",id:"how-the-panorah-framework-uses-rpc",level:2},{value:"Example Payload for Execute Function",id:"example-payload-for-execute-function",level:2},{value:"Explanation of the Payload",id:"explanation-of-the-payload",level:2},{value:"Backend Schemas Used",id:"backend-schemas-used",level:2},{value:"<strong>1. ExecuteFunctionRequestSchema</strong>",id:"1-executefunctionrequestschema",level:3},{value:"Backend Functions Used",id:"backend-functions-used",level:2},{value:"<strong>1. FunctionExecutionView.execute_function()</strong>",id:"1-functionexecutionviewexecute_function",level:3},{value:"<strong>2. src.panorah_framework.call()</strong>",id:"2-srcpanorah_frameworkcall",level:3},{value:"Example Payload",id:"example-payload",level:2}];function d(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"execute-function",children:"Execute Function"})}),"\n",(0,r.jsxs)(n.p,{children:["This section explains the ",(0,r.jsx)(n.strong,{children:"Remote Procedure Call (RPC)"})," mechanism implemented by the ",(0,r.jsx)(n.strong,{children:"Execute Function"})," feature in the ",(0,r.jsx)(n.strong,{children:"Panorah Framework"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"what-is-rpc",children:"What is RPC?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Remote Procedure Call (RPC)"})," is a protocol or mechanism that allows executing a function or procedure on a remote system or server as if it were a local function. RPC simplifies client-server communication by abstracting the complexities of the underlying network communication."]}),"\n",(0,r.jsx)(n.h3,{id:"key-characteristics-of-rpc",children:"Key Characteristics of RPC"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Transparency"}),":",(0,r.jsx)(n.br,{}),"\n","The client interacts with the server function as if it were a local method, with the complexity of communication hidden."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Flexibility"}),":",(0,r.jsx)(n.br,{}),"\n","RPC allows dynamic execution of functions, enabling a single endpoint to handle various backend operations."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Reduced Overhead"}),":",(0,r.jsx)(n.br,{}),"\n","Instead of creating individual APIs for every function, RPC consolidates function execution into one flexible interface."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"how-the-panorah-framework-uses-rpc",children:"How the Panorah Framework Uses RPC"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:"Execute Function"})," API in the ",(0,r.jsx)(n.strong,{children:"Panorah Framework"})," acts as an RPC mechanism by:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Allowing dynamic specification of functions using their fully qualified names."}),"\n",(0,r.jsxs)(n.li,{children:["Supporting both positional (",(0,r.jsx)(n.code,{children:"args"}),") and keyword arguments (",(0,r.jsx)(n.code,{children:"kwargs"}),") for function calls."]}),"\n",(0,r.jsx)(n.li,{children:"Returning the function's results directly to the client."}),"\n",(0,r.jsx)(n.li,{children:"Handling errors and providing descriptive error responses in case of issues."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"By using this feature, the framework reduces the need for repetitive endpoint creation, making it ideal for modular and scalable applications."}),"\n",(0,r.jsx)(n.h2,{id:"example-payload-for-execute-function",children:"Example Payload for Execute Function"}),"\n",(0,r.jsx)(n.p,{children:"To dynamically execute a function, send a request with the following payload:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\r\n  "fn": "module.path.to.function",\r\n  "args": [],\r\n  "kwargs": {}\r\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"explanation-of-the-payload",children:"Explanation of the Payload"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"fn"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"The fully qualified name of the function to execute, including the module and path."}),"\n",(0,r.jsxs)(n.li,{children:["Example: ",(0,r.jsx)(n.code,{children:'"src.panorah_framework.api.doctype.DocTypeController.create"'})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"args"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"A list of positional arguments to pass to the function."}),"\n",(0,r.jsxs)(n.li,{children:["Example: ",(0,r.jsx)(n.code,{children:"[1, 2, 3]"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"kwargs"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"A dictionary of keyword arguments to pass to the function."}),"\n",(0,r.jsxs)(n.li,{children:["Example: ",(0,r.jsx)(n.code,{children:'{"key": "value"}'})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"backend-schemas-used",children:"Backend Schemas Used"}),"\n",(0,r.jsx)(n.h3,{id:"1-executefunctionrequestschema",children:(0,r.jsx)(n.strong,{children:"1. ExecuteFunctionRequestSchema"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Validates the request payload for dynamic function execution."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Fields"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"fn"})}),": The fully qualified name of the function to execute."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"args"})}),": List of positional arguments for the function."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"kwargs"})}),": Dictionary of keyword arguments for the function."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"backend-functions-used",children:"Backend Functions Used"}),"\n",(0,r.jsx)(n.h3,{id:"1-functionexecutionviewexecute_function",children:(0,r.jsx)(n.strong,{children:"1. FunctionExecutionView.execute_function()"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Orchestrates the dynamic execution of a specified function."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Key Responsibilities"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Extracts the ",(0,r.jsx)(n.code,{children:"fn"}),", ",(0,r.jsx)(n.code,{children:"args"}),", and ",(0,r.jsx)(n.code,{children:"kwargs"})," from the request."]}),"\n",(0,r.jsxs)(n.li,{children:["Validates the existence of the specified function using ",(0,r.jsx)(n.code,{children:"getattr()"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Dynamically calls the function with the provided arguments."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"2-srcpanorah_frameworkcall",children:(0,r.jsx)(n.strong,{children:"2. src.panorah_framework.call()"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Dynamically resolves and executes the specified function."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Key Responsibilities"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Splits the ",(0,r.jsx)(n.code,{children:"fn"})," string to extract the module and function."]}),"\n",(0,r.jsxs)(n.li,{children:["Imports the module using Python\u2019s ",(0,r.jsx)(n.code,{children:"importlib"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Retrieves the function using ",(0,r.jsx)(n.code,{children:"getattr()"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Executes the function with the provided ",(0,r.jsx)(n.code,{children:"args"})," and ",(0,r.jsx)(n.code,{children:"kwargs"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Handles exceptions and returns appropriate error messages."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"example-payload",children:"Example Payload"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"example for creating doctype"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'\r\n{\r\n  "fn": "create",\r\n  "args": [],\r\n  "kwargs": {\r\n    "app": "myapp",\r\n    "doc_type_name": "eg_doctype",\r\n    "is_child_table": 0,\r\n    "is_tree": 0,\r\n    "is_single": 0,\r\n    "is_submittable": 0,\r\n    "fields": [\r\n      {\r\n        "name": "doc_name",\r\n        "field_type": "Data",\r\n        "label": "label",\r\n        "permlevel": 0,\r\n        "options": null\r\n      }\r\n    ]\r\n  }\r\n}\r\n\n'})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"example for filtering documents"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'\r\n{\r\n    "fn": "filter_data",\r\n    "args": ["eg_doc"], \r\n    "kwargs": {\r\n        "filters": [\r\n            {\r\n                "field": "id",\r\n                "value": 1,\r\n                "action": ">="\r\n            },{\r\n                "field": "name",\r\n                "value": "CRI-11-54",\r\n                "action": "not_equals"\r\n            }\r\n        ],\r\n          "sort": {\r\n            "field": "id", //using which field we want to filter\r\n            "order": "asc"\r\n        },\r\n        "limit":10,\r\n        "offset":0\r\n    }\r\n}\r\n\n'})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>l});var r=i(6540);const s={},t=r.createContext(s);function c(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);